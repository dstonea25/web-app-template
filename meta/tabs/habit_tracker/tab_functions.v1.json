{
  "version": "1.0.0",
  "functions": {
    "loadLedger": {
      "description": "Fetches the habit ledger from backend and hydrates local state with habit list and calendar grid data.",
      "inputs": [],
      "outputs": ["calendarData", "habits"]
    },
    "markDayComplete": {
      "description": "Toggles completion state for a given habit and date, then posts update to the backend.",
      "inputs": ["habitId", "date"],
      "outputs": ["calendarData"]
    },
    "switchHabit": {
      "description": "Updates selectedHabit and filters calendarData for the chosen habit.",
      "inputs": ["habitId"],
      "outputs": ["selectedHabit"]
    },
    "refreshView": {
      "description": "Recomputes calendar grid display after ledger change, useful after loadLedger or markDayComplete.",
      "inputs": ["calendarData", "selectedHabit"],
      "outputs": ["calendarGrid"]
    }
  },
  "integration": {
    "endpoints": {
      "loadLedger": "/api/habits/load",
      "saveLedger": "/api/habits/save"
    },
    "notes": "Ledger is JSONL per-year file. Only current year is loaded. Backend handles persistence and validation."
  }
}


