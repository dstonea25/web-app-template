{
    "version": "1.2.1",
    "updated_at": "2025-09-08",
    "product_name": "Geronimo",
    "goals": [
      "Local-first MVP (no real writes yet).",
      "Two modules: todos and time_tracking.",
      "Desktop layout with a collapsible left sidebar; content on the right.",
      "Mobile layout with a top-nav hamburger that opens the same menu.",
      "Shared TopBanner across modules with consistent theme tokens.",
      "Todos uses category-derived tabs (including All) computed from the dataset.",
      "Responsive and accessible UI."
    ],
    "non_goals": [
      "No Cloudflare/Docker/remote infra.",
      "No authentication or analytics.",
      "No third-party component libraries without approval."
    ],
    "stack_preferences": {
      "frontend": "React + TypeScript",
      "build_tool": "Vite",
      "styling": "TailwindCSS",
      "routing": "in-app state (no URL routing)"
    },
    "layout": {
      "navigation": "left_sidebar_desktop + mobile_drawer",
      "sidebar": {
        "expanded_px": 264,
        "collapsed_px": 72,
        "collapsible": true,
        "shows_icons_and_labels": true,
        "collapsed_shows_icons_only": true
      },
      "topnav": {
        "height_px": 56,
        "hamburger_on_mobile": true,
        "drawer_behavior": "focus_trap_and_esc_to_close"
      }
    },
    "modules": [
      {
        "id": "todos",
        "title": "To-Dos",
        "surface": "page",
        "requirements": [
          "Interactive table with borders, zebra rows, sticky header, hover state.",
          "Columns: id | task | status | category | created_at (1:1 with fields).",
          "Sort by any column; basic text filter.",
          "Add row and inline edit.",
          "Tabs: All + 1 tab per unique category derived at runtime from the dataset.",
          "Save action is stubbed (mocked API)."
        ],
        "constraints": [
          "Do not hardcode category options; compute from data.",
          "Keep all behavior local-first (in-memory + optional localStorage)."
        ],
        "defaults": {
          "tab_order": "alpha",
          "default_sort": { "column": "created_at", "direction": "desc" },
          "id_generation": "uuid"
        }
      },
      {
        "id": "time_tracking",
        "title": "Time Tracking",
        "surface": "page",
        "requirements": [
          "Start timer (count-up), stop, edit duration/note, append to list.",
          "List sessions with edit/delete before submit.",
          "Submit action is stubbed (mocked API)."
        ],
        "constraints": [
          "Accurate duration math to seconds.",
          "Local-first behavior (in-memory + optional localStorage)."
        ]
      }
    ],
    "theming": {
      "source_of_truth": "/src/theme/config.ts",
      "driven_by": "/meta/style_profile.json",
      "rules": [
        "Do not hardcode colors/fonts in components; import tokens.",
        "TopBanner renders identically on all modules."
      ]
    },
    "data_model": {
      "todo": {
        "id": "number|string",
        "task": "string",
        "status": "string",
        "category": "string",
        "created_at": "string ISO-8601"
      },
      "session": {
        "id": "string",
        "started_at": "string ISO-8601",
        "ended_at": "string ISO-8601|null",
        "duration_ms": "number",
        "note": "string|null"
      }
    },
    "io_contracts": {
      "seed_inputs": [
        "/public/data/todos.json",
        "/public/data/sessions.json"
      ],
      "persistence_strategy": [
        "In-memory React state.",
        "Optional localStorage mirror.",
        "No file writes in MVP."
      ],
      "future_webhooks": [
        {
          "name": "saveTodos",
          "path": "/webhook/todo-batch-save",
          "method": "POST",
          "enabled_in_mvp": false
        },
        {
          "name": "saveSessions",
          "path": "/webhook/time-log-batch-save",
          "method": "POST",
          "enabled_in_mvp": false
        }
      ]
    },
    "accessibility": {
      "rules": [
        "Semantic elements; visible focus.",
        "Keyboard operable navigation and tables.",
        "ARIA where appropriate."
      ]
    },
    "architecture": {
      "principles": [
        "Shared primitives (TopBanner, Sidebar, Tabs, Card, Button).",
        "Pages own local state and logic.",
        "ApiClient centralizes mocked POSTs.",
        "Avoid cross-page imports that create coupling."
      ],
      "extension_points": [
        "Add new modules by composing the same AppShell.",
        "Promote mock API to real webhooks with env vars later."
      ],
      "guardrails_for_agent": [
        "Do not modify /meta/*.",
        "Do not hardcode categories.",
        "Prefer new files over modifying shared primitives unless truly shared."
      ]
    },
    "acceptance_checks": [
      "Brand displays as Geronimo in TopBanner.",
      "Desktop: collapsible left sidebar; Mobile: hamburger drawer.",
      "To-Dos: category tabs derived from data, table styled per tokens, sort/filter/add/edit, Save stubbed.",
      "Time Tracking: start/stop/edit/append, Submit stubbed.",
      "Theme tokens are used consistently across modules."
    ]
  }
  